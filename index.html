<!DOCTYPE html>
<html>
<head>
    <title>AniList Stat Cards</title>
</head>
<body>
    <div id="svgContainer"></div>

    <script>
    // This is the client-side JavaScript code
    fetch('/username')
        .then(response => response.text())
        .then(svg => {
            // Add event listeners to the buttons
            const keys = ['animeCount', 'totalFollowers', 'totalFollowing', 'mangaCount', 'chaptersRead', 'episodesWatched', 'hoursWatched'];
            for (const key of keys) {
                const buttonId = key + 'Button';
                const onClickAttribute = `onclick="fetch('/username').then(response => response.text()).then(newSVG => { document.getElementById('${buttonId}').outerHTML = newSVG; })"`;
                svg = svg.replace(`id="${buttonId}"`, `id="${buttonId}" ${onClickAttribute}`);
            }

            // Add the SVG to the DOM
            document.getElementById('svgContainer').innerHTML = svg;
        });
    </script>
</body>
</html>